<div>
    <div id="anchor1" style="background-color:blue; height:500px;">

    </div>
</div>
<div>
    <div id="anchor2" style="background-color:green; height:400px;display: none;">

    </div>
</div>
<div>
    <div id="anchor3" style="background-color:red; height:200px;">

    </div>
</div>
<script>
    window.onload = function() {
    
        var anchor =  window.location.hash.substr(1);
        console.log(anchor);
        setTimeout(function(){ 
            myFunction(anchor);
            Element.prototype.documentOffsetTop = function () {
                return this.offsetTop + ( this.offsetParent ? this.offsetParent.documentOffsetTop() : 0 );
            };

            var top = document.getElementById( anchor ).documentOffsetTop() - (window.innerHeight / 2 );
            window.scrollTo( 0, top );


         }, 2000);
         function myFunction(element) {
             console.log(element);
            var x = document.getElementById(element);
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
    }

    };
</script>